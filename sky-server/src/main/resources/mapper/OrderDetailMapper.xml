<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sky.mapper.OrderDetailMapper">
    <insert id="insert" useGeneratedKeys="true" keyProperty="id">
        insert into order_detail(name, image, order_id, dish_id, setmeal_id, dish_flavor, number, amount) values
        <foreach collection="orderDetails" item="od" separator=",">
            (#{od.name},#{od.image},#{od.orderId},#{od.dishId},#{od.setmealId},#{od.dishFlavor},#{od.number},#{od.amount})
        </foreach>
    </insert>
    <!--    <update id="update" parameterType="Dish">-->
    <!--        update Dish-->
    <!--        <set>-->
    <!--            <if test='name != null and name != " "'>name = #{name},</if>-->
    <!--            <if test='categoryId != null'>category_id = #{categoryId},</if>-->
    <!--            <if test='price != null'>price = #{price},</if>-->
    <!--            <if test='image != null'>image = #{image},</if>-->
    <!--            <if test='description != null'>description = #{description},</if>-->
    <!--            <if test='updateTime != null'>update_time = #{updateTime},</if>-->
    <!--            <if test='updateUser != null'>update_user = #{updateUser},</if>-->
    <!--            <if test='status != null'>status = #{status},</if>-->
    <!--        </set>-->
    <!--        where id = #{id}-->
    <!--    </update>-->
    <!--    <delete id="deleteBatch">-->
    <!--        delete from dish where id in-->
    <!--        <foreach collection="ids" item="id" open="(" separator="," close=")">-->
    <!--            #{id}-->
    <!--        </foreach>-->
    <!--    </delete>-->
    <!--    <select id="getDishByPage" resultType="com.sky.entity.Dish">-->
    <!--        select * from dish-->
    <!--        <where>-->
    <!--            <if test='name != null and name != " "'>-->
    <!--                name like concat("%", #{name}, "%")-->
    <!--            </if>-->
    <!--            <if test='categoryId != null'>-->
    <!--                and category_id = #{categoryId}-->
    <!--            </if>-->
    <!--            <if test='status != null'>-->
    <!--                and status = #{status}-->
    <!--            </if>-->
    <!--        </where>-->
    <!--        order by create_time desc-->
    <!--    </select>-->
</mapper>